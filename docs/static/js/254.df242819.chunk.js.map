{"version":3,"file":"static/js/254.df242819.chunk.js","mappings":"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","sources":["i18n/locales.ts","components/Message.tsx","components/Guesser.tsx"],"sourcesContent":["import { LanguageName } from \"../lib/country\";\r\nimport { Locale, LocaleMessages } from \"../lib/locale\";\r\nimport { English } from \"./messages/en-CA\";\r\nimport { Spanish } from \"./messages/es-MX\";\r\n\r\n// export const LOCALES: LocaleList = {\r\n//   English: \"English\",\r\n//   Spanish: \"Spanish\",\r\n// };\r\n\r\nexport const LOCALES = {\r\n  English: English,\r\n  Spanish: Spanish,\r\n};\r\n\r\nexport const langNameMap: Record<Locale, LanguageName> = {\r\n  \"es-MX\": \"NAME_ES\",\r\n  \"en-CA\": \"NAME_EN\",\r\n};\r\n","// import useCheckMobile from \"../hooks/useCheckMobile\";\r\nimport { isMobile } from \"react-device-detect\";\r\nimport { answerCountry, answerName } from \"../util/answer\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { useContext } from \"react\";\r\nimport { LocaleContext } from \"../i18n/LocaleContext\";\r\nimport { langNameMap } from \"../i18n/locales\";\r\n\r\ntype Props = {\r\n  win: boolean;\r\n  error: any;\r\n  guesses: number;\r\n};\r\n\r\nexport function Message({ win, error, guesses }: Props) {\r\n  const { locale } = useContext(LocaleContext);\r\n\r\n  let name = answerName;\r\n  if (locale !== \"en-CA\") {\r\n    const langName = langNameMap[locale];\r\n    name = answerCountry[\"properties\"][langName];\r\n  }\r\n\r\n  if (error) {\r\n    return <p className=\"text-red-700 \">{error}</p>;\r\n  } else if (win) {\r\n    return (\r\n      <p className=\"text-green-800 dark:text-green-300 font-bold \">\r\n        <FormattedMessage id=\"Game7\" values={{ answer: name }} />\r\n      </p>\r\n    );\r\n  } else if (guesses === 0) {\r\n    return (\r\n      <p className=\"text-gray-700 dark:text-gray-400 \">\r\n        <FormattedMessage id=\"Game3\" />\r\n      </p>\r\n    );\r\n  } else if (guesses === 1) {\r\n    return (\r\n      <p className=\"text-gray-700 dark:text-gray-400 \">\r\n        <FormattedMessage\r\n          id=\"Game4\"\r\n          values={{ click: isMobile ? \"tap\" : \"click\" }}\r\n        />\r\n      </p>\r\n    );\r\n  } else {\r\n    return <p className=\"text-red-700 \"></p>;\r\n  }\r\n}\r\n","import { FormEvent, useContext, useState } from \"react\";\r\nimport { Country, LanguageName } from \"../lib/country\";\r\nimport { answerCountry, answerName } from \"../util/answer\";\r\nimport { Message } from \"./Message\";\r\nimport { polygonDistance } from \"../util/distance\";\r\nimport alternateNames from \"../data/alternate_names.json\";\r\nimport { LocaleContext } from \"../i18n/LocaleContext\";\r\nimport { Locale } from \"../lib/locale\";\r\nimport localeList from \"../i18n/messages\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { langNameMap } from \"../i18n/locales\";\r\nconst countryData: Country[] = require(\"../data/country_data.json\").features;\r\n\r\ntype Props = {\r\n  guesses: Country[];\r\n  setGuesses: React.Dispatch<React.SetStateAction<Country[]>>;\r\n  win: boolean;\r\n  setWin: React.Dispatch<React.SetStateAction<boolean>>;\r\n};\r\n\r\nexport default function Guesser({ guesses, setGuesses, win, setWin }: Props) {\r\n  const [guessName, setGuessName] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const { locale } = useContext(LocaleContext);\r\n\r\n  const langName = langNameMap[locale];\r\n\r\n  function findCountry(countryName: string, list: Country[]) {\r\n    return list.find((country) => {\r\n      const { NAME, NAME_LONG, ABBREV, ADMIN, BRK_NAME, NAME_SORT } =\r\n        country.properties;\r\n\r\n      return (\r\n        NAME.toLowerCase() === countryName ||\r\n        NAME_LONG.toLowerCase() === countryName ||\r\n        ADMIN.toLowerCase() === countryName ||\r\n        ABBREV.toLowerCase() === countryName ||\r\n        ABBREV.replace(/\\./g, \"\").toLowerCase() === countryName ||\r\n        NAME.replace(/-/g, \" \").toLowerCase() === countryName ||\r\n        BRK_NAME.toLowerCase() === countryName ||\r\n        NAME_SORT.toLowerCase() === countryName ||\r\n        country.properties[langName].toLowerCase() === countryName\r\n      );\r\n    });\r\n  }\r\n\r\n  // Check territories function\r\n  function runChecks() {\r\n    const trimmedName = guessName\r\n      .trim()\r\n      .toLowerCase()\r\n      .replace(/&/g, \"and\")\r\n      .replace(/^st\\s/g, \"st. \");\r\n    const oldNamePair = alternateNames.find((pair) => {\r\n      return pair.old === trimmedName;\r\n    });\r\n    const userGuess = oldNamePair ? oldNamePair.real : trimmedName;\r\n    const alreadyGuessed = findCountry(userGuess, guesses);\r\n    if (alreadyGuessed) {\r\n      setError(localeList[locale][\"Game6\"]);\r\n      return;\r\n    }\r\n    const guessCountry = findCountry(userGuess, countryData);\r\n    if (!guessCountry) {\r\n      setError(localeList[locale][\"Game5\"]);\r\n      return;\r\n    }\r\n    if (guessCountry.properties.NAME === answerName) {\r\n      setWin(true);\r\n    }\r\n    return guessCountry;\r\n  }\r\n\r\n  function addGuess(e: FormEvent<HTMLFormElement>) {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    let guessCountry = runChecks();\r\n    if (guessCountry && answerCountry) {\r\n      guessCountry[\"proximity\"] = polygonDistance(guessCountry, answerCountry);\r\n      setGuesses([...guesses, guessCountry]);\r\n      setGuessName(\"\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-10 mb-6 block mx-auto text-center\">\r\n      <form\r\n        onSubmit={addGuess}\r\n        className=\"w-80 flex space-x-4 mx-auto my-2 justify-center\"\r\n      >\r\n        <input\r\n          className=\"shadow px-2 py-1 md:py-0\r\n          text-gray-700 dark:bg-slate-300 focus:outline-none \r\n          focus:shadow-outline disabled:bg-slate-400\r\n          border rounded disabled:border-slate-400\r\n          w-full\"\r\n          type=\"text\"\r\n          name=\"guesser\"\r\n          id=\"guesser\"\r\n          value={guessName}\r\n          onChange={(e) => setGuessName(e.currentTarget.value)}\r\n          disabled={win}\r\n          placeholder={guesses.length === 0 ? localeList[locale][\"Game1\"] : \"\"}\r\n          autoComplete=\"new-password\"\r\n        />\r\n        <button\r\n          className=\"bg-blue-700 dark:bg-purple-800 hover:bg-blue-900 dark:hover:bg-purple-900 disabled:bg-blue-900  text-white \r\n          font-bold py-1 md:py-2 px-4 rounded focus:shadow-outline \"\r\n          type=\"submit\"\r\n          disabled={win}\r\n        >\r\n          <FormattedMessage id=\"Game2\" />\r\n        </button>\r\n      </form>\r\n      <Message win={win} error={error} guesses={guesses.length} />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["langNameMap","English","Spanish","Message","win","error","guesses","locale","useContext","LocaleContext","name","answerName","langName","answerCountry","className","id","values","answer","click","isMobile","countryData","require","Guesser","setGuesses","setWin","useState","guessName","setGuessName","setError","findCountry","countryName","list","find","country","properties","NAME","NAME_LONG","ABBREV","ADMIN","BRK_NAME","NAME_SORT","toLowerCase","replace","onSubmit","e","preventDefault","guessCountry","trimmedName","trim","oldNamePair","alternateNames","pair","old","userGuess","real","localeList","runChecks","polygonDistance","type","value","onChange","currentTarget","disabled","placeholder","length","autoComplete"],"sourceRoot":""}